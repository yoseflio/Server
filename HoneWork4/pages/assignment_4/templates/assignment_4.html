
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>assignment_4</title>
</head>
<body>

{% extends 'base4.html' %}
{% block content %}
<div class="container">
    <h1>Users Page:</h1>

    {% if registration_message %}
        <h3 style="color: darkred">{{ registration_message }}</h3>
    {% endif %}
    <h2>registration form:</h2>
    <form action="/insert_user" method="post">
        <input type="text" name="name" placeholder="Full name" required>
        <input type="text" name="password" placeholder="Password" required>
        <input type="email" name="email" placeholder="Email" required>
        <input type="phone" name="phone" placeholder="phone" required>
        <input type="submit">
    </form>

    {% if registration_message %}
        <h3 style="color: darkred">{{ registration_message }}</h3>
    {% endif %}

    <h2>validation form for Update:</h2>
    <form action="/validation_user" method="post">
        <input type="email" name="email" placeholder="Email" required>
        <input type="password" name="password" placeholder="Password" required>
        <input type="submit">
    </form>
        {% if validation_message %}
            <h3 style="color: darkred">{{ validation_message }}</h3>
        {% endif %}


    {% if v_id %}
        {% for user in users %}
            {% if v_id == user.id %}
                <form action="/update_email" method="post">
                    <input type="hidden" name="user_id" value="{{ v_id }}">
                    <li><h3>Your Email: {{ user.email }} </h3></li>
                    <input type="text" name="email" placeholder="New email">
                    <input type="submit" value="Update email"><br>
                </form>

                <form action="/update_password" method="post">
                    <input type="hidden" name="user_id" value="{{ v_id }}">
                    <li><h3>please enter your new password: </h3></li>
                    <input type="password" name="password" placeholder="password">
                    <input type="submit" value="Update"><br>
                </form>

                <form action="/update_phone" method="post">
                    <input type="hidden" name="user_id" value="{{ v_id }}">
                    <li><h3>please enter your new phone num: </h3></li>
                    <input type="phone" name="phone" placeholder="phone">
                    <input type="submit" value="Update"><br>
                </form>
            {% endif %}
        {% endfor %}
    {% endif %}

<h2>Deletion form:</h2>
<form action="/delete_user" method="post">
    <input type="email" name="email" placeholder="Email" required>
    <input type="password" name="password" placeholder="password" required>
    <input type="submit">
</form>

    {% if Deletion_message %}
        <h3 style="color: darkred">{{ Deletion_message }}</h3>
    {% endif %}

<h2>list of users:</h2>
<fieldset STYLE="padding: 2vw ">
<ul>
    {% for user in users %}
        <li><h3 style="color:blue ">User number-{{ user.id }}</h3></li>
        <li><h4> Name: {{user.name}}</h4></li>
        <li><h4> password: {{user.password}}</h4></li>
        <li><h4> Email: {{user.email}}</h4></li>
        <li><h4> phone: {{user.phone}}</h4></li><br>
    {% endfor %}

</ul>
</fieldset>
</div>
{% endblock %}
</body>
</html>
